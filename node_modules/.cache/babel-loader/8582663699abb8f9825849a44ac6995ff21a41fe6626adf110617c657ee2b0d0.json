{"ast":null,"code":"import SpotifyWebApi from \"spotify-web-api-js\";\nimport querystring from \"querystring\";\nconst login = () => {\n  var client_id = \"d4a40d7f2b794f5ebf8b80bec35da21e\";\n  var redirect_uri = \"http://localhost:3000/callback\";\n  var state = generateRandomString(16);\n  var scope = \"user-read-private playlist-modify-private playlist-modify-publicuser-read-email\";\n  var authUrl = new URL(\"https://accounts.spotify.com/authorize\");\n  const params = {\n    response_type: \"code\",\n    client_id: client_id,\n    scope: scope,\n    redirect_uri: redirect_uri,\n    state: state\n  };\n  authUrl.search = new URLSearchParams(params).toString();\n  window.location.href = authUrl.toString();\n\n  //  url += \"?response_type=token\";\n  //  url += \"&client_id=\" + encodeURIComponent(client_id);\n  //  url += \"&scope=\" + encodeURIComponent(scope);\n  //  url += \"&redirect_uri=\" + encodeURIComponent(redirect_uri);\n  //  url += \"&state=\" + encodeURIComponent(state);\n};\n\nfunction generateRandomString(length) {\n  let result = \"\";\n  let characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  let charactersLength = characters.length;\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n}\n\n// const fuckingAroundWithOAuth = () => {\n//    var url = window.location;\n\n//    var access_token = new URLSearchParams(url.search).get(\"access_token\");\n\n//    spotifyApi.setAccessToken(access_token);\n// };\n\nconst loginProcess = {\n  login,\n  generateRandomString\n};\nexport default loginProcess;\n\n// https://accounts.spotify.com/authorize?response_type=token&client_id=d4a40d7f2b794f5ebf8b80bec35da21e&scope=user-read-private&redirect_uri=http://localhost:3000\n\n// export default login;","map":{"version":3,"names":["SpotifyWebApi","querystring","login","client_id","redirect_uri","state","generateRandomString","scope","authUrl","URL","params","response_type","search","URLSearchParams","toString","window","location","href","length","result","characters","charactersLength","i","charAt","Math","floor","random","loginProcess"],"sources":["C:/Users/jmoga/Documents/GitHub/moodify-public/moodify-public/src/services/login.js"],"sourcesContent":["import SpotifyWebApi from \"spotify-web-api-js\";\nimport querystring from \"querystring\";\n\nconst login = () => {\n   var client_id = \"d4a40d7f2b794f5ebf8b80bec35da21e\";\n   var redirect_uri = \"http://localhost:3000/callback\";\n\n   var state = generateRandomString(16);\n\n   var scope =\n      \"user-read-private playlist-modify-private playlist-modify-publicuser-read-email\";\n\n   var authUrl = new URL(\"https://accounts.spotify.com/authorize\");\n\n   const params = {\n      response_type: \"code\",\n      client_id: client_id,\n      scope: scope,\n      redirect_uri: redirect_uri,\n      state: state,\n   };\n\n   authUrl.search = new URLSearchParams(params).toString();\n   window.location.href = authUrl.toString();\n\n   //  url += \"?response_type=token\";\n   //  url += \"&client_id=\" + encodeURIComponent(client_id);\n   //  url += \"&scope=\" + encodeURIComponent(scope);\n   //  url += \"&redirect_uri=\" + encodeURIComponent(redirect_uri);\n   //  url += \"&state=\" + encodeURIComponent(state);\n};\n\nfunction generateRandomString(length) {\n   let result = \"\";\n   let characters =\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n   let charactersLength = characters.length;\n   for (let i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n   }\n   return result;\n}\n\n// const fuckingAroundWithOAuth = () => {\n//    var url = window.location;\n\n//    var access_token = new URLSearchParams(url.search).get(\"access_token\");\n\n//    spotifyApi.setAccessToken(access_token);\n// };\n\nconst loginProcess = {\n   login,\n   generateRandomString,\n};\n\nexport default loginProcess;\n\n// https://accounts.spotify.com/authorize?response_type=token&client_id=d4a40d7f2b794f5ebf8b80bec35da21e&scope=user-read-private&redirect_uri=http://localhost:3000\n\n// export default login;\n"],"mappings":"AAAA,OAAOA,aAAa,MAAM,oBAAoB;AAC9C,OAAOC,WAAW,MAAM,aAAa;AAErC,MAAMC,KAAK,GAAGA,CAAA,KAAM;EACjB,IAAIC,SAAS,GAAG,kCAAkC;EAClD,IAAIC,YAAY,GAAG,gCAAgC;EAEnD,IAAIC,KAAK,GAAGC,oBAAoB,CAAC,EAAE,CAAC;EAEpC,IAAIC,KAAK,GACN,iFAAiF;EAEpF,IAAIC,OAAO,GAAG,IAAIC,GAAG,CAAC,wCAAwC,CAAC;EAE/D,MAAMC,MAAM,GAAG;IACZC,aAAa,EAAE,MAAM;IACrBR,SAAS,EAAEA,SAAS;IACpBI,KAAK,EAAEA,KAAK;IACZH,YAAY,EAAEA,YAAY;IAC1BC,KAAK,EAAEA;EACV,CAAC;EAEDG,OAAO,CAACI,MAAM,GAAG,IAAIC,eAAe,CAACH,MAAM,CAAC,CAACI,QAAQ,CAAC,CAAC;EACvDC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGT,OAAO,CAACM,QAAQ,CAAC,CAAC;;EAEzC;EACA;EACA;EACA;EACA;AACH,CAAC;;AAED,SAASR,oBAAoBA,CAACY,MAAM,EAAE;EACnC,IAAIC,MAAM,GAAG,EAAE;EACf,IAAIC,UAAU,GACX,gEAAgE;EACnE,IAAIC,gBAAgB,GAAGD,UAAU,CAACF,MAAM;EACxC,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,MAAM,EAAEI,CAAC,EAAE,EAAE;IAC9BH,MAAM,IAAIC,UAAU,CAACG,MAAM,CAACC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGL,gBAAgB,CAAC,CAAC;EAC5E;EACA,OAAOF,MAAM;AAChB;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,MAAMQ,YAAY,GAAG;EAClBzB,KAAK;EACLI;AACH,CAAC;AAED,eAAeqB,YAAY;;AAE3B;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}