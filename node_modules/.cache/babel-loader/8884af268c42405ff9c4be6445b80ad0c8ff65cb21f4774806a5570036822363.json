{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jmoga\\\\Documents\\\\GitHub\\\\moodify-public\\\\moodify-public\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useRef, useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport Button from \"react-bootstrap/Button\";\nimport { Card, Container, Row } from \"react-bootstrap\";\nimport * as faceapi from \"face-api.js\";\nimport SongCard from \"./components/playlistTable/SongCard\";\nimport { makeDecision } from \"./helpers/decisions\";\nimport { type } from \"@testing-library/user-event/dist/type\";\nimport loginProcess from \"./services/login\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CLIENT_ID = \"d4a40d7f2b794f5ebf8b80bec35da21e\";\nconst CLIENT_SECRET = \"6def9f6a4c7d441d8854a2029a460c7c\";\nfunction App() {\n  _s();\n  const videoRef = useRef();\n  const canvasRef = useRef();\n  const [expressions, setExpressions] = useState([]);\n  const [start, setStart] = useState(false);\n  const [emotion, setEmotion] = useState(null);\n  const [accessToken, setAccessToken] = useState(\"\");\n  const [tracks, setTracks] = useState([]);\n  const [isHover, setIsHover] = useState(false);\n  const handleMouseEnter = () => {\n    setIsHover(true);\n  };\n  const handleMouseLeave = () => {\n    setIsHover(false);\n  };\n  useEffect(() => {\n    let params = new URLSearchParams(window.location.search);\n    console.log(params.has());\n    loginProcess.login();\n    // var authParams = {\n    //   method: \"POST\",\n    //   headers: {\n    //     \"Content-Type\": \"application/x-www-form-urlencoded\",\n    //   },\n    //   body:\n    //     \"grant_type=client_credentials&client_id=\" +\n    //     CLIENT_ID +\n    //     \"&client_secret=\" +\n    //     CLIENT_SECRET,\n    // };\n    // fetch(\"https://accounts.spotify.com/api/token\", authParams)\n    //   .then(result => result.json())\n    //   .then(data => setAccessToken(data.access_token));\n  }, []);\n\n  // useEffect(() => {\n  //   search();\n  // }, [emotion]);\n\n  // const search = async () => {\n  //   console.log(\"before\", emotion);\n  //   var parameters = {\n  //     method: \"GET\",\n  //     headers: {\n  //       \"Content-Type\": \"application/json\",\n  //       Authorization: \"Bearer \" + accessToken,\n  //     },\n  //   };\n  //   var ID = await fetch(\n  //     \"https://api.spotify.com/v1/search?q=\" + emotion + \"&type=track\",\n  //     parameters\n  //   )\n  //     .then(response => response.json())\n  //     .then(data => {\n  //       console.log(data);\n  //       setTracks(data.tracks.items);\n  //     });\n  // };\n\n  const loadModels = () => {\n    Promise.all([faceapi.nets.tinyFaceDetector.loadFromUri(\"/models\"), faceapi.nets.faceLandmark68Net.loadFromUri(\"/models\"), faceapi.nets.faceRecognitionNet.loadFromUri(\"/models\"), faceapi.nets.faceExpressionNet.loadFromUri(\"/models\")]).then(() => {\n      faceDetection();\n    });\n  };\n  const startVideo = () => {\n    navigator.mediaDevices.getUserMedia({\n      video: true\n    }).then(currentStream => {\n      videoRef.current.srcObject = currentStream;\n    }).catch(err => {\n      console.error(err);\n    });\n  };\n  const stopVideo = () => {\n    navigator.mediaDevices.getUserMedia({\n      video: false\n    }).then(currentStream => {\n      videoRef.current.srcObject = currentStream;\n    }).catch(err => {\n      console.error(err);\n    });\n  };\n  const averageAllEmotions = () => {\n    var angry = 0;\n    var happy = 0;\n    var sad = 0;\n    var neutral = 0;\n    var surprised = 0;\n    var fearful = 0;\n    var maxEmotionName = null;\n    // var disgusted = 0;\n    for (var i = 0; i < expressions.length; i++) {\n      angry += expressions[i][0];\n    }\n    angry /= expressions.length;\n    // console.log(\"angry\", angry);\n\n    for (var i = 0; i < expressions.length; i++) {\n      happy += expressions[i][1];\n    }\n    happy /= expressions.length;\n    // console.log(\"happy\", happy);\n\n    for (var i = 0; i < expressions.length; i++) {\n      sad += expressions[i][2];\n    }\n    sad /= expressions.length;\n    // console.log(\"sad\", sad);\n\n    for (var i = 0; i < expressions.length; i++) {\n      neutral += expressions[i][3];\n    }\n    neutral /= expressions.length;\n    // console.log(\"neutral\", neutral);\n\n    for (var i = 0; i < expressions.length; i++) {\n      surprised += expressions[i][4];\n    }\n    surprised /= expressions.length;\n    // console.log(\"surprised\", surprised);\n\n    for (var i = 0; i < expressions.length; i++) {\n      fearful += expressions[i][5];\n    }\n    fearful /= expressions.length;\n    // console.log(\"fearful\", fearful);\n    const emotions = {\n      sad: sad,\n      happy: happy,\n      angry: angry,\n      surprised: surprised,\n      fearful: fearful,\n      neutral: neutral\n    };\n    const maxEmotionValue = Math.max(...Object.values(emotions));\n    for (const x in emotions) {\n      if (emotions[x] === maxEmotionValue) {\n        maxEmotionName = x;\n        break;\n      }\n    }\n    console.log(\"maxEmotionName\", maxEmotionName);\n    console.log(\"maxEmotionName\", maxEmotionValue);\n    setEmotion(maxEmotionName);\n    setStart(false);\n    return {\n      maxName: maxEmotionName,\n      maxValue: maxEmotionValue\n    };\n  };\n  const faceDetection = async () => {\n    const faceDetectionInterval = setInterval(async () => {\n      const detections = await faceapi.detectSingleFace(videoRef.current, new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceExpressions();\n      canvasRef.current.innerHtml = faceapi.createCanvasFromMedia(videoRef.current);\n      faceapi.matchDimensions(canvasRef.current, {\n        width: 940,\n        height: 650\n      });\n      const resized = faceapi.resizeResults(detections, {\n        width: 940,\n        height: 650\n      });\n      // console.log(\"--------------------------------------------------------------------\");\n      // console.log(\"Happy\", detections.expressions.happy);\n      // console.log(\"Sad\", detections.expressions.sad);\n      // console.log(\"Neutral\", detections.expressions.neutral);\n      // console.log(\"Angry\", detections.expressions.angry);\n      // console.log(\"Surprised\", detections.expressions.surprised);\n      // console.log(\"Fearful\", detections.expressions.fearful);\n      // console.log(\"Disgusted\", detections.expressions.disgusted);\n      // console.log(\"--------------------------------------------------------------------\");\n      expressions.push([detections.expressions.angry, detections.expressions.happy, detections.expressions.sad, detections.expressions.neutral, detections.expressions.surprised, detections.expressions.fearful, detections.expressions.disgusted]);\n      // console.log((detections.expressions.angry + detections.expressions.happy + detections.expressions.sad + detections.expressions.neutral + detections.expressions.surprised + detections.expressions.fearful + detections.expressions.disgusted))\n      // console.log(detections);\n\n      faceapi.draw.drawDetections(canvasRef.current, resized);\n      faceapi.draw.drawFaceLandmarks(canvasRef.current, resized);\n      faceapi.draw.drawFaceExpressions(canvasRef.current, resized);\n    }, 500);\n    setTimeout(async () => {\n      clearInterval(faceDetectionInterval);\n      const avg = averageAllEmotions();\n      console.log(\"average\", avg);\n      const songs = await makeDecision(avg.maxName);\n      console.log(\"song\", songs);\n      setTracks(songs);\n    }, 6000);\n  };\n  const startScan = () => {\n    setStart(true);\n    startVideo();\n    setEmotion(\"None\");\n    videoRef && loadModels();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        paddingBottom: 100\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          textAlign: \"center\",\n          color: \"#1DB954\"\n        },\n        children: \"MOODIFY\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 13\n      }, this), start ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app__video\",\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          crossOrigin: \"anonymous\",\n          ref: videoRef,\n          style: {\n            border: \"1px solid\",\n            borderImageSlice: 1,\n            borderWidth: \"10px\",\n            borderImageSource: \"linear-gradient(#00C853, #fff345)\",\n            width: \"940px\",\n            height: \"650px\"\n          },\n          autoPlay: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef,\n          width: \"940\",\n          height: \"650\",\n          className: \"app__canvas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 16\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          alignContent: \"center\",\n          display: \"flex\",\n          justifyContent: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            width: 200,\n            height: 50,\n            backgroundColor: isHover ? \"#32d16a\" : \"#1DB954\",\n            borderRadius: 50,\n            padding: \"auto\",\n            color: \"#fff\",\n            fontFamily: \"Ubuntu\",\n            scale: isHover ? \"1.1\" : \"1\",\n            transition: \"all .2s ease-in-out\"\n          },\n          onClick: startScan,\n          onMouseEnter: handleMouseEnter,\n          onMouseLeave: handleMouseLeave,\n          children: \"Start Scan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"#fff\",\n          fontFamily: \"Ubuntu\",\n          textAlign: \"center\"\n        },\n        children: [\"Emotion: \", emotion]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(SongCard, {\n        songs: tracks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 245,\n    columnNumber: 7\n  }, this);\n}\n_s(App, \"RtZGu7fvxcFR08YJenVGYKWzY7I=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useRef","useEffect","useState","Button","Card","Container","Row","faceapi","SongCard","makeDecision","type","loginProcess","jsxDEV","_jsxDEV","CLIENT_ID","CLIENT_SECRET","App","_s","videoRef","canvasRef","expressions","setExpressions","start","setStart","emotion","setEmotion","accessToken","setAccessToken","tracks","setTracks","isHover","setIsHover","handleMouseEnter","handleMouseLeave","params","URLSearchParams","window","location","search","console","log","has","login","loadModels","Promise","all","nets","tinyFaceDetector","loadFromUri","faceLandmark68Net","faceRecognitionNet","faceExpressionNet","then","faceDetection","startVideo","navigator","mediaDevices","getUserMedia","video","currentStream","current","srcObject","catch","err","error","stopVideo","averageAllEmotions","angry","happy","sad","neutral","surprised","fearful","maxEmotionName","i","length","emotions","maxEmotionValue","Math","max","Object","values","x","maxName","maxValue","faceDetectionInterval","setInterval","detections","detectSingleFace","TinyFaceDetectorOptions","withFaceLandmarks","withFaceExpressions","innerHtml","createCanvasFromMedia","matchDimensions","width","height","resized","resizeResults","push","disgusted","draw","drawDetections","drawFaceLandmarks","drawFaceExpressions","setTimeout","clearInterval","avg","songs","startScan","className","children","style","paddingBottom","textAlign","color","fileName","_jsxFileName","lineNumber","columnNumber","crossOrigin","ref","border","borderImageSlice","borderWidth","borderImageSource","autoPlay","alignContent","display","justifyContent","backgroundColor","borderRadius","padding","fontFamily","scale","transition","onClick","onMouseEnter","onMouseLeave","_c","$RefreshReg$"],"sources":["C:/Users/jmoga/Documents/GitHub/moodify-public/moodify-public/src/App.js"],"sourcesContent":["import { useRef, useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport Button from \"react-bootstrap/Button\";\nimport { Card, Container, Row } from \"react-bootstrap\";\nimport * as faceapi from \"face-api.js\";\nimport SongCard from \"./components/playlistTable/SongCard\";\nimport { makeDecision } from \"./helpers/decisions\";\nimport { type } from \"@testing-library/user-event/dist/type\";\nimport loginProcess from \"./services/login\";\n\nconst CLIENT_ID = \"d4a40d7f2b794f5ebf8b80bec35da21e\";\nconst CLIENT_SECRET = \"6def9f6a4c7d441d8854a2029a460c7c\";\n\nfunction App() {\n   const videoRef = useRef();\n   const canvasRef = useRef();\n   const [expressions, setExpressions] = useState([]);\n   const [start, setStart] = useState(false);\n   const [emotion, setEmotion] = useState(null);\n   const [accessToken, setAccessToken] = useState(\"\");\n   const [tracks, setTracks] = useState([]);\n\n   const [isHover, setIsHover] = useState(false);\n   const handleMouseEnter = () => {\n      setIsHover(true);\n   };\n   const handleMouseLeave = () => {\n      setIsHover(false);\n   };\n\n   useEffect(() => {\n\n    let params = new URLSearchParams(window.location.search);\n    console.log(params.has());\n\n      loginProcess.login();\n      // var authParams = {\n      //   method: \"POST\",\n      //   headers: {\n      //     \"Content-Type\": \"application/x-www-form-urlencoded\",\n      //   },\n      //   body:\n      //     \"grant_type=client_credentials&client_id=\" +\n      //     CLIENT_ID +\n      //     \"&client_secret=\" +\n      //     CLIENT_SECRET,\n      // };\n      // fetch(\"https://accounts.spotify.com/api/token\", authParams)\n      //   .then(result => result.json())\n      //   .then(data => setAccessToken(data.access_token));\n   }, []);\n\n   // useEffect(() => {\n   //   search();\n   // }, [emotion]);\n\n   // const search = async () => {\n   //   console.log(\"before\", emotion);\n   //   var parameters = {\n   //     method: \"GET\",\n   //     headers: {\n   //       \"Content-Type\": \"application/json\",\n   //       Authorization: \"Bearer \" + accessToken,\n   //     },\n   //   };\n   //   var ID = await fetch(\n   //     \"https://api.spotify.com/v1/search?q=\" + emotion + \"&type=track\",\n   //     parameters\n   //   )\n   //     .then(response => response.json())\n   //     .then(data => {\n   //       console.log(data);\n   //       setTracks(data.tracks.items);\n   //     });\n   // };\n\n   const loadModels = () => {\n      Promise.all([\n         faceapi.nets.tinyFaceDetector.loadFromUri(\"/models\"),\n         faceapi.nets.faceLandmark68Net.loadFromUri(\"/models\"),\n         faceapi.nets.faceRecognitionNet.loadFromUri(\"/models\"),\n         faceapi.nets.faceExpressionNet.loadFromUri(\"/models\"),\n      ]).then(() => {\n         faceDetection();\n      });\n   };\n\n   const startVideo = () => {\n      navigator.mediaDevices\n         .getUserMedia({ video: true })\n         .then((currentStream) => {\n            videoRef.current.srcObject = currentStream;\n         })\n         .catch((err) => {\n            console.error(err);\n         });\n   };\n\n   const stopVideo = () => {\n      navigator.mediaDevices\n         .getUserMedia({ video: false })\n         .then((currentStream) => {\n            videoRef.current.srcObject = currentStream;\n         })\n         .catch((err) => {\n            console.error(err);\n         });\n   };\n\n   const averageAllEmotions = () => {\n      var angry = 0;\n      var happy = 0;\n      var sad = 0;\n      var neutral = 0;\n      var surprised = 0;\n      var fearful = 0;\n      var maxEmotionName = null;\n      // var disgusted = 0;\n      for (var i = 0; i < expressions.length; i++) {\n         angry += expressions[i][0];\n      }\n      angry /= expressions.length;\n      // console.log(\"angry\", angry);\n\n      for (var i = 0; i < expressions.length; i++) {\n         happy += expressions[i][1];\n      }\n      happy /= expressions.length;\n      // console.log(\"happy\", happy);\n\n      for (var i = 0; i < expressions.length; i++) {\n         sad += expressions[i][2];\n      }\n      sad /= expressions.length;\n      // console.log(\"sad\", sad);\n\n      for (var i = 0; i < expressions.length; i++) {\n         neutral += expressions[i][3];\n      }\n      neutral /= expressions.length;\n      // console.log(\"neutral\", neutral);\n\n      for (var i = 0; i < expressions.length; i++) {\n         surprised += expressions[i][4];\n      }\n      surprised /= expressions.length;\n      // console.log(\"surprised\", surprised);\n\n      for (var i = 0; i < expressions.length; i++) {\n         fearful += expressions[i][5];\n      }\n      fearful /= expressions.length;\n      // console.log(\"fearful\", fearful);\n      const emotions = {\n         sad: sad,\n         happy: happy,\n         angry: angry,\n         surprised: surprised,\n         fearful: fearful,\n         neutral: neutral,\n      };\n      const maxEmotionValue = Math.max(...Object.values(emotions));\n      for (const x in emotions) {\n         if (emotions[x] === maxEmotionValue) {\n            maxEmotionName = x;\n            break;\n         }\n      }\n      console.log(\"maxEmotionName\", maxEmotionName);\n      console.log(\"maxEmotionName\", maxEmotionValue);\n      setEmotion(maxEmotionName);\n      setStart(false);\n      return {\n         maxName: maxEmotionName,\n         maxValue: maxEmotionValue,\n      };\n   };\n\n   const faceDetection = async () => {\n      const faceDetectionInterval = setInterval(async () => {\n         const detections = await faceapi\n            .detectSingleFace(\n               videoRef.current,\n               new faceapi.TinyFaceDetectorOptions()\n            )\n            .withFaceLandmarks()\n            .withFaceExpressions();\n\n         canvasRef.current.innerHtml = faceapi.createCanvasFromMedia(\n            videoRef.current\n         );\n         faceapi.matchDimensions(canvasRef.current, {\n            width: 940,\n            height: 650,\n         });\n\n         const resized = faceapi.resizeResults(detections, {\n            width: 940,\n            height: 650,\n         });\n         // console.log(\"--------------------------------------------------------------------\");\n         // console.log(\"Happy\", detections.expressions.happy);\n         // console.log(\"Sad\", detections.expressions.sad);\n         // console.log(\"Neutral\", detections.expressions.neutral);\n         // console.log(\"Angry\", detections.expressions.angry);\n         // console.log(\"Surprised\", detections.expressions.surprised);\n         // console.log(\"Fearful\", detections.expressions.fearful);\n         // console.log(\"Disgusted\", detections.expressions.disgusted);\n         // console.log(\"--------------------------------------------------------------------\");\n         expressions.push([\n            detections.expressions.angry,\n            detections.expressions.happy,\n            detections.expressions.sad,\n            detections.expressions.neutral,\n            detections.expressions.surprised,\n            detections.expressions.fearful,\n            detections.expressions.disgusted,\n         ]);\n         // console.log((detections.expressions.angry + detections.expressions.happy + detections.expressions.sad + detections.expressions.neutral + detections.expressions.surprised + detections.expressions.fearful + detections.expressions.disgusted))\n         // console.log(detections);\n\n         faceapi.draw.drawDetections(canvasRef.current, resized);\n         faceapi.draw.drawFaceLandmarks(canvasRef.current, resized);\n         faceapi.draw.drawFaceExpressions(canvasRef.current, resized);\n      }, 500);\n\n      setTimeout(async () => {\n         clearInterval(faceDetectionInterval);\n         const avg = averageAllEmotions();\n         console.log(\"average\", avg);\n         const songs = await makeDecision(avg.maxName);\n         console.log(\"song\", songs);\n         setTracks(songs);\n      }, 6000);\n   };\n\n   const startScan = () => {\n      setStart(true);\n      startVideo();\n      setEmotion(\"None\");\n\n      videoRef && loadModels();\n   };\n   return (\n      <div className=\"app\">\n         <div style={{ paddingBottom: 100 }}>\n            <h1 style={{ textAlign: \"center\", color: \"#1DB954\" }}>MOODIFY</h1>\n            {start ? (\n               <div className=\"app__video\">\n                  <video\n                     crossOrigin=\"anonymous\"\n                     ref={videoRef}\n                     style={{\n                        border: \"1px solid\",\n                        borderImageSlice: 1,\n                        borderWidth: \"10px\",\n                        borderImageSource: \"linear-gradient(#00C853, #fff345)\",\n                        width: \"940px\",\n                        height: \"650px\",\n                     }}\n                     autoPlay\n                  ></video>\n                  <canvas\n                     ref={canvasRef}\n                     width=\"940\"\n                     height=\"650\"\n                     className=\"app__canvas\"\n                  />\n               </div>\n            ) : (\n               <div\n                  style={{\n                     alignContent: \"center\",\n                     display: \"flex\",\n                     justifyContent: \"center\",\n                  }}\n               >\n                  <button\n                     style={{\n                        width: 200,\n                        height: 50,\n                        backgroundColor: isHover ? \"#32d16a\" : \"#1DB954\",\n                        borderRadius: 50,\n                        padding: \"auto\",\n                        color: \"#fff\",\n                        fontFamily: \"Ubuntu\",\n                        scale: isHover ? \"1.1\" : \"1\",\n                        transition: \"all .2s ease-in-out\",\n                     }}\n                     onClick={startScan}\n                     onMouseEnter={handleMouseEnter}\n                     onMouseLeave={handleMouseLeave}\n                  >\n                     Start Scan\n                  </button>\n               </div>\n            )}\n            <p\n               style={{\n                  color: \"#fff\",\n                  fontFamily: \"Ubuntu\",\n                  textAlign: \"center\",\n               }}\n            >\n               Emotion: {emotion}\n            </p>\n         </div>\n         <div>\n            <SongCard songs={tracks} />\n            {/* <Container>\n          <Row className=\"mx-2 row row-cols-4\">\n            {tracks.map((track, i) => {\n              return (\n                <Card>\n                  <Card.Img src={track.album.images[0].url} />\n                  <Card.Body>\n                    <Card.Title>{track.name}</Card.Title>\n                  </Card.Body>\n                </Card>\n              );\n            })}\n          </Row>\n        </Container> */}\n         </div>\n      </div>\n   );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}